(()=>{const a=document.getElementById("country");a.value=COUNTRY||"US",a.addEventListener("change",(a=>{window.location.href=window.location.pathname+"?buyer-country="+a.target.value})),paypal.Buttons({env:"https://api.sandbox.paypal.com",style:{layout:"vertical",size:"responsive",shape:"pill",color:"gold"},commit:!0,createOrder:async()=>{let a=new FormData;const t=parseFloat(article.article_price);a.append("total_amt",t),a.append("currency",article.article_currency),a.append("article_name",article.article_name);let{data:e}=await axios.post(CONFIG.BASE_URL+"checkout/create_order",a);return e.data.id},onApprove:async(a,t)=>{const e=await t.order.capture();e&&"COMPLETED"===e.status&&(postData=new FormData,postData.append("order_id",e.id),postData.append("payer_id",e.payer.payer_id),postData.append("article_id",article.article_id),(await axios.post(CONFIG.BASE_URL+"checkout/success",postData)).data.success&&(window.location.href=`${CONFIG.BASE_URL}thank-you`))}}).render("#paypalCheckoutContainer")})();