(()=>{"use strict";var e={6529:(e,t,n)=>{var s=n(6165),a=n(6455),i=n.n(a),r=n(1035);const p={lines:10,length:0,width:12,radius:16,scale:1,corners:1,speed:1,rotate:0,animation:"spinner-line-shrink",direction:1,color:"#e74c3c",fadeColor:"transparent",top:"50%",left:"50%",shadow:"0 0 1px transparent",zIndex:2e9,className:"spinner",position:"absolute"};var l=n(7027),c=n(3438),d=n(5709);const o={success(e){alertify.success(e)},error(e){alertify.error(e)}},u=new class{constructor(e){this.target=e,this.spinner=new r.$(p)}start(){this.spinner.spin(this.target),this.target.classList.add("opaque")}stop(){this.spinner.stop(),this.target.classList.remove("opaque")}}(document.getElementById("shippings")),f=s.Z.create({prefixUrl:`${CONFIG.BASE_URL}api/shipping/`}),g=document.getElementById("search");let h=1;async function _(e=1){u.start(),h=e;let t=g.value||"",n=CONFIG.shipping_number||0,s=new FormData;s.set("page",e),s.set("search",t);const a=await f.post(`get/${n}`,{body:s}).json(),r=(p=a.list).length?p.reduce(((e,t)=>{return`${e}\n                <tr>\n                    <td align="center"><a href="${CONFIG.BASE_URL}equipment/shipping/details/${t.shipping_id}">${t.shipping_number}</a></td>\n                    <td>\n                        <span class="font-medium">${t.supplier}</span>\n                        <br/>\n                        <span class="text-muted">\n                            ${t.supplier_address_building?t.supplier_address_building+", ":""}\n                            ${t.supplier_address_street?t.supplier_address_street+", ":""}\n                            ${t.supplier_address_city?t.supplier_address_city+", ":""}\n                            ${t.supplier_address_country?t.supplier_address_country:""}\n                        </span>\n                    </td>\n                    <td>\n                        <span class="font-medium">${t.client}</span>\n                        <br/>\n                        <span class="text-muted">\n                            ${t.cms_address_building?t.cms_address_building+", ":""}\n                            ${t.cms_address_street?t.cms_address_street+", ":""}\n                            ${t.cms_address_city?t.cms_address_city+", ":""}\n                            ${t.cms_address_country?t.cms_address_country:""}\n                        </span>\n                    </td>\n                    <td>${t.shipping_description}</td>\n                    <td>${t.shipping_furnace}</td>\n                    <td align="center">${t.shipping_delivery_date}</td>\n                    <td align="center">${t.added_by}</td>\n                    <td align="center">${n=t.shipping_status,{active:'<span class="label label-success">ACTIVE</span>',shipped:'<span class="label label-danger">SHIPPED</span>',returned:'<span class="label label-warning">RETURNED</span>',closed:'<span class="label label-primary">CLOSED</span>'}[n]}</td>\n                    <td align="center">\n                        <div class="btn-group">\n                            <button aria-expanded="false" data-toggle="dropdown" class="btn btn-default dropdown-toggle waves-effect waves-light" type="button"> <i class="fa fa-cog m-r-5"></i> <span class="caret"></span></button>\n                            <ul role="menu" class="dropdown-menu dropdown-menu-right">\n                                <li><a href="${CONFIG.BASE_URL}equipment/shipping/details/${t.shipping_id}" title="View Details"><span class="fa fa-search"></span>&nbsp; View</a></li>\n                                ${"closed"!==t.shipping_status?`\n                                    <li><a href="${CONFIG.BASE_URL}shipping/edit/${t.shipping_id}" title="Update"><span class="fa fa-pencil"></span>&nbsp; Update</a></li>\n\n                                    <li><a href="" class="delete-shipping-btn" title="Delete" data-index="${t.shipping_id}" data-name="${t.shipping_number}"><span class="fa fa-trash"></span>&nbsp; Delete</a></li>\n\n                                    <li><a href="" class="change-status-btn" title="Change Status" data-index="${t.shipping_id}" data-name="${t.shipping_number}"><span class="fa fa-info-circle"></span>&nbsp; Change Status</a></li>`:""}\n\n                                <li class="divider"></li>\n                                <li><a href="${CONFIG.BASE_URL}shipping/preview_packing_list_pdf/${t.shipping_id}" target="_blank" title="View Packing List Pdf"><span class="fa fa-file-pdf-o"></span>&nbsp; Packing List</a></li>\n                                <li><a href="${CONFIG.BASE_URL}shipping/preview_packing_list_with_pict_pdf/${t.shipping_id}" target="_blank" title="View Packing List Pdf"><span class="fa fa-file-pdf-o"></span>&nbsp; Packing List (with Picture)</a></li>\n                                <li><a href="${CONFIG.BASE_URL}shipping/preview_proforma_invoice_pdf/${t.shipping_id}" target="_blank" title="View Proforma Invoice Pdf"><span class="fa fa-file-pdf-o"></span>&nbsp; Proforma Invoice</a></li>\n                                <li><a href="${CONFIG.BASE_URL}shipping/preview_proforma_invoice_with_pict_pdf/${t.shipping_id}" target="_blank" title="View Proforma Invoice Pdf"><span class="fa fa-file-pdf-o"></span>&nbsp; Proforma Invoice (with Picture)</a></li>\n                                <li class="divider"></li> \n                                <li><a href="${CONFIG.BASE_URL}shipping/preview_packing_list_without_serial_pdf/${t.shipping_id}" target="_blank" title="View Packing List without serial Pdf"><span class="fa fa-file-pdf-o"></span>&nbsp; Packing List (w/o Serial)</a></li>\n                                <li><a href="${CONFIG.BASE_URL}shipping/preview_packing_list_without_serial_with_picture_pdf/${t.shipping_id}" target="_blank" title="View Packing List without serial Pdf"><span class="fa fa-file-pdf-o"></span>&nbsp; Packing List (w/o Serial w/ Picture)</a></li>\n                                <li class="divider"></li>\n                                <li><a href="${CONFIG.BASE_URL}shipping/history/${t.shipping_id}" target="_blank" title="History"><span class="fa fa-history"></span>&nbsp; History</a></li>\n                            </ul>\n                        </div>\n                    </td>\n                </tr>`;var n}),""):'<tr><td align="center" colspan="9">No records found.</td></tr>';var p,m,w;document.getElementById("shipping-table").innerHTML=r,document.getElementById("pagination").innerHTML=a.pagination,((e,t)=>{const n=document.querySelectorAll(".pagination a[href]");n.length&&(0,l.R)(n,"click").pipe((0,c.b)((e=>e.preventDefault())),(0,d.U)((e=>t(e.target.getAttribute("data-ci-pagination-page"))))).subscribe()})(0,_),m=document.getElementsByClassName("delete-shipping-btn"),w=document.getElementsByClassName("change-status-btn"),b(m,"click",(function(e){e.preventDefault();var t,n,s=e.currentTarget.dataset.index;t=`Are you sure you want to cancel ${e.currentTarget.dataset.name}? <br>You won't be able to revert this.`,n=async function(){(await f.post(`delete/${s}`).json()).success&&(o.success("Successfully deleted."),_())},i().fire({title:"Are you sure?",html:t,icon:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",allowOutsideClick:!0,reverseButtons:!0}).then((e=>{e.value&&n()}))})),b(w,"click",(async function(e){e.preventDefault();const t=e.currentTarget.dataset.index,n=e.currentTarget.dataset.name;const{value:s}=await i().fire({title:`Change Status for ${n}`,input:"select",inputOptions:{active:"ACTIVE",shipped:"SHIPPED",returned:"RETURNED"},inputPlaceholder:"Select new status",showCancelButton:!0,inputValidator:e=>new Promise((t=>{""===e?t("You need to select new status."):t()}))});if(s){let e=new FormData;e.set("status",s);const n=await f.post(`changeStatus/${t}`,{body:e}).json();if(!n.success)return void o.error(n.message);o.success("Successfully changed."),_()}})),u.stop()}function b(e,t,n){Array.from(e).forEach((function(e){e.addEventListener(t,n)}))}_(),g.addEventListener("keyup",(function(){_()}))}},t={};function n(s){if(t[s])return t[s].exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.x=e=>{},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.j=407,(()=>{var e={407:0},t=[[6529,216]],s=e=>{},a=(a,i)=>{for(var r,p,[l,c,d,o]=i,u=0,f=[];u<l.length;u++)p=l[u],n.o(e,p)&&e[p]&&f.push(e[p][0]),e[p]=0;for(r in c)n.o(c,r)&&(n.m[r]=c[r]);for(d&&d(n),a&&a(i);f.length;)f.shift()();return o&&t.push.apply(t,o),s()},i=self.webpackChunkhotware=self.webpackChunkhotware||[];function r(){for(var s,a=0;a<t.length;a++){for(var i=t[a],r=!0,p=1;p<i.length;p++){var l=i[p];0!==e[l]&&(r=!1)}r&&(t.splice(a--,1),s=n(n.s=i[0]))}return 0===t.length&&(n.x(),n.x=e=>{}),s}i.forEach(a.bind(null,0)),i.push=a.bind(null,i.push.bind(i));var p=n.x;n.x=()=>(n.x=p||(e=>{}),(s=r)())})(),n.x()})();