(()=>{"use strict";var t={3145:(t,e,n)=>{var r=n(6165),a=n(6455),s=n.n(a),o=n(7484),i=n.n(o),l=n(1035);const c={lines:10,length:0,width:12,radius:16,scale:1,corners:1,speed:1,rotate:0,animation:"spinner-line-shrink",direction:1,color:"#e74c3c",fadeColor:"transparent",top:"50%",left:"50%",shadow:"0 0 1px transparent",zIndex:2e9,className:"spinner",position:"absolute"};var u=n(7027),d=n(3438),p=n(5709);const f={success(t){alertify.success(t)},error(t){alertify.error(t)}},h=document.getElementById("tracker_locations"),g=document.getElementById("tracker-locations-table"),m=document.getElementById("search"),b=document.getElementById("user_filter"),w=new class{constructor(t){this.target=t,this.spinner=new l.$(c)}start(){this.spinner.spin(this.target),this.target.classList.add("opaque")}stop(){this.spinner.stop(),this.target.classList.remove("opaque")}}(h);let y=1;const v=t=>{const e=new FormData;return e.set("page",t),e.set("search",m.value||""),e.set("user_id",b.value||0),e};async function _(t=1){w.start(),y=t;const e=await r.Z.post(`${CONFIG.BASE_URL}admin/tracker/get`,{body:v(t)}).json();g.innerHTML=e.list.length?e.list.reduce(((t,e)=>`${t}\n                <tr>\n                    <td>${e.user_firstname} ${e.user_lastname}</td>\n                    <td align="center">${i()(Number(e.ult_timestamp)).format("YYYY-MM-DD HH:mm:ss")}</td>\n                    <td align="center">${e.ult_latitude}</td>\n                    <td align="center">${e.ult_longitude}</td>\n                    <td>\n                        <a class="btn btn-warning btn-sm" target="_blank" href="https://www.mapdevelopers.com/what-is-my-address.php?lat=${e.ult_latitude}&lng=${e.ult_longitude}"><i class="fa fa-map"></i></a>\n                        <a class="btn btn-danger btn-sm delete-btn" target="_blank" href="#" data-identifier="${e.ult_id}"><i class="fa fa-trash"></i></a>\n                    </td>\n                </tr>`),""):'<tr><td align="center" colspan="8">No records found.</td></tr>',document.getElementById("pagination").innerHTML=e.pagination,((t,e)=>{const n=document.querySelectorAll("#pagination a[href]");n.length&&(0,u.R)(n,"click").pipe((0,d.b)((t=>t.preventDefault())),(0,p.U)((t=>e(t.target.getAttribute("data-ci-pagination-page"))))).subscribe()})(0,_),function(){const t=document.getElementsByClassName("delete-btn");Array.from(t).forEach((t=>{t.addEventListener("click",(function(t){t.preventDefault();let e=t.currentTarget.dataset.identifier;s().fire({title:"Are you sure?",html:"Are you sure you want to delete this location?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",allowOutsideClick:!0,reverseButtons:!0}).then((async t=>{t.value&&(await r.Z.get(`${CONFIG.BASE_URL}admin/tracker/delete/${e}`).json()).success&&(f.success("Successfully deleted."),_(y))}))}))}))}(),w.stop()}_(),m.addEventListener("keyup",(function(){_()})),b.addEventListener("change",(function(){_()}))}},e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,n),a.exports}n.m=t,n.x=t=>{},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.j=69,(()=>{var t={69:0},e=[[3145,216]],r=t=>{},a=(a,s)=>{for(var o,i,[l,c,u,d]=s,p=0,f=[];p<l.length;p++)i=l[p],n.o(t,i)&&t[i]&&f.push(t[i][0]),t[i]=0;for(o in c)n.o(c,o)&&(n.m[o]=c[o]);for(u&&u(n),a&&a(s);f.length;)f.shift()();return d&&e.push.apply(e,d),r()},s=self.webpackChunkhotware=self.webpackChunkhotware||[];function o(){for(var r,a=0;a<e.length;a++){for(var s=e[a],o=!0,i=1;i<s.length;i++){var l=s[i];0!==t[l]&&(o=!1)}o&&(e.splice(a--,1),r=n(n.s=s[0]))}return 0===e.length&&(n.x(),n.x=t=>{}),r}s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s));var i=n.x;n.x=()=>(n.x=i||(t=>{}),(r=o)())})(),n.x()})();