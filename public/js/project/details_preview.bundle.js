(()=>{"use strict";var e={8846:(e,t,n)=>{var o=n(6165),r=n(6455),c=n.n(r);const a={success(e){alertify.success(e)},error(e){alertify.error(e)}},s=function(){let e=[];const t=async(e=1)=>{let t=new FormData;t.set("page",e),t.set("search",document.getElementById("search").value||"");const r=await o.Z.post(`${CONFIG.BASE_URL}api/project/get_technicians/${CONFIG.project_id}`,{body:t}).json();let c='<tr><td align="center" colspan="4">No records found.</td></tr>';r.list.length&&(c=r.list.reduce((function(e,t){return`${e}\n                        <tr>\n                            <td>\n                                <img src="${CONFIG.BASE_URL}storage/users/${t.user_photo}" class="img-circle" />\n                                &nbsp;&nbsp; ${t.user_firstname+" "+t.user_lastname}</td>\n                            <td>${t.project_role_name}</td>\n                            <td>${t.project_second_role_name}</td>\n                            <td>${n(t.project_technician_status)}</td>\n                        </tr>`}),"")),document.getElementById("technicians-table").innerHTML=c},n=function(e){return{active:'<label class="label label-warning">PENDING</label>',approved:'<label class="label label-success">APPROVED</label>',denied:'<label class="label label-danger">DENIED</label>'}[e]};return{init:function(){e=CONFIG.selected_technician_documents,t()},get:t}}();var l=n(7484),i=n.n(l),u=n(178),d=n.n(u),p=n(9387),m=n.n(p);const f=function(){let e=0;const t=async()=>{const t=await o.Z.get(`${CONFIG.BASE_URL}api/project/getMyDocuments/${e}`).json();let r='<tr colspan="3"><td> No records found.</td></tr>';t.list.length&&(r=t.list.reduce((function(e,t){return`${e}\n                        <tr>\n                            <td width="80%">${t.ptdl_name}</td>\n                            <td width="20%" align="right">\n                                <a href="" class="btn btn-default btn-rounded btn-sm preview-document-btn" data-ptdl="${t.ptdl_id}"><span class="fa fa-file-pdf-o"></span> Preview</a>\n                                <a href="" class="btn btn-default btn-rounded btn-sm download-document-btn" data-ptdl="${t.ptdl_id}"><span class="fa fa-download"></span></a>\n                            </td>\n                        </tr>`}),"")),document.getElementById("technician-documents-table").innerHTML=r,n()},n=()=>{const n=document.getElementsByClassName("approve-document-btn"),r=document.getElementsByClassName("preview-document-btn"),s=document.getElementsByClassName("download-document-btn");Array.from(n).forEach((function(n){n.addEventListener("click",(function(n){n.preventDefault();const r=n.currentTarget.dataset.ptdl,s=n.currentTarget.dataset.name;c().fire({title:"Are you sure?",html:`Are you sure you want to approve ${s}?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",allowOutsideClick:!0,reverseButtons:!0}).then((async n=>{if(n.value){let n=new FormData;n.set("ptdl_id",r),n.set("timezone",i().tz.guess()),(await o.Z.post(`${CONFIG.BASE_URL}api/project/approveDocument/${e}`,{body:n}).json()).success?(a.success("Successfully approved!"),t()):a.error("Error.")}}))}))})),Array.from(r).forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault();const n=t.currentTarget.dataset.ptdl,o=document.getElementById("document-language").value;window.open(`${CONFIG.BASE_URL}api/project/technician_document/${e}/${n}/${o}`,"_blank")}))})),Array.from(s).forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault();const n=t.currentTarget.dataset.ptdl,o=document.getElementById("document-language").value;window.open(`${CONFIG.BASE_URL}api/project/download_personal_document/${e}/${n}/${o}`,"_blank")}))}))};return{init:function(n){e=n,t(),i().extend(d()),i().extend(m())}}}(),g=()=>{document.getElementById("overview-nav").click()};var h;[].slice.call(document.querySelectorAll(".sttabs")).forEach((function(e){new CBPFWTabs(e)})),$(".select2").select2(),1==(h=CONFIG.tab)?g():2==h?document.getElementById("company-nav").click():3==h?document.getElementById("scope-nav").click():4==h?document.getElementById("client-nav").click():5==h?document.getElementById("equipments-nav").click():6==h?document.getElementById("technicians-nav").click():7==h?document.getElementById("documents-nav").click():g(),s.init(),f.init(CONFIG.project_id),document.getElementById("approve-po-btn")?.addEventListener("click",(function(e){e.preventDefault(),c().fire({title:"Are you sure?",html:"Are you sure you want to accept this project?",icon:"question",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",allowOutsideClick:!0,reverseButtons:!0}).then((async e=>{if(e.value){const e=await o.Z.post(`${CONFIG.BASE_URL}api/project/accept/${CONFIG.project_id}`).json();e.success||a.error(e.message),a.success(e.message),window.location.reload()}}))})),document.getElementById("decline-po-btn")?.addEventListener("click",(function(e){e.preventDefault(),c().fire({title:"Are you sure?",html:"Are you sure you want to deny this project?",icon:"question",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",allowOutsideClick:!0,reverseButtons:!0}).then((async e=>{if(e.value){const e=await o.Z.post(`${CONFIG.BASE_URL}api/project/deny/${CONFIG.project_id}`).json();e.success||a.error(e.message),a.success(e.message),window.location.reload()}}))}))}},t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}n.m=e,n.x=e=>{},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.j=446,(()=>{var e={446:0},t=[[8846,216]],o=e=>{},r=(r,c)=>{for(var a,s,[l,i,u,d]=c,p=0,m=[];p<l.length;p++)s=l[p],n.o(e,s)&&e[s]&&m.push(e[s][0]),e[s]=0;for(a in i)n.o(i,a)&&(n.m[a]=i[a]);for(u&&u(n),r&&r(c);m.length;)m.shift()();return d&&t.push.apply(t,d),o()},c=self.webpackChunkhotware=self.webpackChunkhotware||[];function a(){for(var o,r=0;r<t.length;r++){for(var c=t[r],a=!0,s=1;s<c.length;s++){var l=c[s];0!==e[l]&&(a=!1)}a&&(t.splice(r--,1),o=n(n.s=c[0]))}return 0===t.length&&(n.x(),n.x=e=>{}),o}c.forEach(r.bind(null,0)),c.push=r.bind(null,c.push.bind(c));var s=n.x;n.x=()=>(n.x=s||(e=>{}),(o=a)())})(),n.x()})();